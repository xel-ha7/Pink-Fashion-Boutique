void function($){slider.fontsManager.each(function(model){var $font=$('<div class="font-item">');var name=model.get("name");$font.css({fontFamily:name}).text(name).appendTo("#gfonts .font-list");slider.fontsManager.loadFont(name)});function requestFont(){var $font=$("#gfonts .font-item").first();if(!$font.length)return log("Completed.");html2canvas($font.get(0),{background:undefined,onrendered:function(canvas){var datab64=canvas.toDataURL().replace(/^data:image\/png;base64,(.*)$/,"$1");var data=atob(datab64);var url="http://localhost:8787/photos";var d=JSON.stringify({filename:$font.text().toLowerCase().trim().replace(/\s+/g,"-")+".png",data:datab64});var req=new XMLHttpRequest;req.open("POST",url,true);req.addEventListener("loadend",function(){console.log("next");$font.remove();requestFont()});req.send(d)}})}$(".jsn-es-app").append('<div id="gfonts"><div class="font-list"></div></div>');$("#gfonts").click(requestFont)}(JSNES_jQuery);